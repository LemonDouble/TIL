# Clean Architecture - 10. ISP: 인터페이스 분리 원칙

### ISP : 인터페이스 분리 원칙

![Untitled](https://github.com/LemonDouble/TIL/blob/main/book/Clean%20Architecture/image/Untitled3.png)

- 하나의 큰 인터페이스보다, 작은 여러 개의 인터페이스가 낫다!
- 유저 1은 op1만 사용, 2는 op2만 사용, 3은 op3만 사용한다고 가정해 보자.
- 큰 하나의 인터페이스를 사용하면, op1이 변경될 때 op2, op3까지 변경이 일어난다.
    - 만약 정적 타입 언어 사용중이라면, op2, op3은 변경되지 않았어도 같이 컴파일 해야 한다!

### ISP와 언어

- 정적 타입 언어는 import, include 등을 이용하므로 소스 코드 의존성이 발생한다.
- 하지만 동적 타입 언어는 소스 코드에 선언문이 없어도, 런타임에 동적 추론이 발생한다.
- 따라서, 동적 타입 언어를 사용할 때 좀 더 유연하고 결합도가 낮은 시스템을 만들 수 있다.
- 이로 인해 ISP는 아키텍쳐가 아닌, 언어와 관련된 문제라고 보는 시각도 있다.

### ISP와 아키텍쳐

- 언어의 관점에선 큰 모듈은 불필요한 재컴파일/재배포를 강제한다.
- 하지만 아키텍쳐 관점에서도 문제가 있다.
    - 예를 들어 다음과 같은 아키텍쳐가 있다고 치자.
    - System → Framework → Database ( S 는 F에 의존, F는 D에 의존)
        - 이 때, Database에 우리의 Framework와 관련 없는 기능이 하나 추가된다고 상상해 보자.
        - 이로 인해 D가 변경되면, F가 재배포되어야 할 수도 있다.
        - F가 재배포되면, S도 재배포되어야 할 수도 있다!

### 결론

- Interface를 설계할 때에는, 정확히 우리가 사용할 내용만 가지고 설계하도록 하자.
- 불필요한 짐을 실으면, 예상치 못한 문제에 빠질 수도 있다!